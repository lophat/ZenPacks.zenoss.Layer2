This ZenPack provides the ability to monitor OSI Layer 2 infrastructure. Monitoring is performed via SNMP.

== Features ==

The features added by this ZenPack can be summarized as follows. They are each detailed further below.

* Discovery and periodic remodeling of Neighbor Switches using CDP/LLDP.
* Monitoring of MAC Address table or Forwarding Table for each network interface of device.
* Event suppression based on MAC Address table.

=== Discovery ===

CDP/LLDP based collector plugin ''zenoss.snmp.CDPLLDPDiscover'' performs discovery of switches located nearby a selected device.

=== Monitoring ===

The ZenPack binds ''Layer2Info'' monitoring templates to the ''/Network'' device class in Zenoss. This activates monitoring of Layer 2 MAC forwarding tables for devices under that class. On the detail view of ''Interfaces'' components,  the ''Clients MAC addresses'' subpanel is added with a list of MAC addresses. Those addresses are grouped by the client device they belong to.

=== Event suppression ===

When an upstream switch goes down, a flood of ''Device is DOWN!'' events for every device in an affected subnet can be generated. This ZenPack adds a zenevent plugin which suppresses such subsequent events for leaf devices. As a result, a system administator receives only a primary, core error event.

== Requirements ==

This ZenPack has the following requirements.

;[[ZenPack:PythonCollector|PythonCollector ZenPack]]
: This ZenPack depends on [[ZenPack:PythonCollector|PythonCollector]] being installed, and having the associated ''zenpython'' collector process running.

== Service Impact ==

When combined with the Zenoss Service Dynamics product, this ZenPack adds built-in service impact capability based on Layer 2 data. The following service impact relationships are automatically added. These will be included in any services that contain one or more of the explicitly mentioned entities.

;Service Impact Relationships
* Device impacted by upstream switch device.

== Troubleshooting ==

Please refer the the Zenoss Service Dynamics documentation if you run into any of the following problems:

* ZenPack will not install
* Adding a device fails
* Don't understand how to add a device
* Don't understand how to model a device

If you cannot find the answer in the documentation, then Resource Manager (Service Dynamics) users should contact [https://support.zenoss.com Zenoss Customer Support]. Core users can use the #zenoss IRC channel or the community.zenoss.org forums.

== Layer2 Terminology ==
The essential mechanism that separates network switches from network hubs is the MAC forwarding table. Instead of broadcasting incoming link layer frames to all it's interfaces, as hubs do, switches look into the forwarding table to find out which particular interface is connected to the destination device. The switch learns which devices are connected to which interface by looking at the source MAC address of incoming frames. Those MAC addresses are called "client MAC addresses".

== Installed Items ==

Installing this ZenPack will add the following items to your Zenoss system.

;Modeler Plugins
* zenoss.snmp.CDPLLDPDiscover

;Monitoring Templates
* Layer2Info (in /Network)

== Changes ==
;1.0.0
* Initial release
